{
  "name": "afa-office-backend",
  "version": "1.0.0",
  "description": "AFA办公小程序后端API服务",
  "main": "dist/app.js",
  "type": "module",
  "scripts": {
    "build": "tsc --project tsconfig.json",
    "dev": "tsx watch src/app.ts",
    "start": "node dist/app.js",
    "test": "vitest --config vitest.config.simple.js --run",
    "test:watch": "vitest --config vitest.config.simple.js",
    "test:coverage": "vitest --config vitest.config.simple.js --coverage --run",
    "test:e2e": "playwright test --config tests/e2e/config/playwright.config.ts",
    "test:e2e:ui": "playwright test --config tests/e2e/config/playwright.config.ts --ui",
    "test:e2e:headed": "playwright test --config tests/e2e/config/playwright.config.ts --headed",
    "test:e2e:report": "playwright show-report tests/e2e/reports/playwright-report",
    "test:e2e:setup": "bash tests/e2e/scripts/setup-test-environment.sh",
    "test:e2e:setup:windows": "powershell -ExecutionPolicy Bypass -File tests/e2e/scripts/setup-test-environment.ps1",
    "test:verification": "vitest --config vitest.verification.config.js --run",
    "test:verification:watch": "vitest --config vitest.verification.config.js",
    "test:verification:run": "node scripts/run-verification-tests.js",
    "verify:build": "pnpm test:verification --reporter=verbose",
    "verify:all": "pnpm lint && pnpm type-check && pnpm build && pnpm test && pnpm test:verification",
    "verify:complete": "node scripts/verify-build-fix.js",
    "lint": "eslint src/**/*.ts",
    "lint:fix": "eslint src/**/*.ts --fix",
    "format": "prettier --write src/**/*.ts",
    "type-check": "tsc --noEmit --project tsconfig.test.json",
    "db:init": "node scripts/init-database.js init",
    "db:reset": "node scripts/init-database.js reset",
    "db:seed": "node scripts/init-database.js seed",
    "db:test": "node scripts/init-database.js test",
    "setup:mysql-account": "tsx scripts/setup-mysql-account.ts",
    "setup:mysql-dev": "tsx scripts/setup-mysql-account.ts create --database afa_office --environment development",
    "setup:mysql-test": "tsx scripts/setup-mysql-account.ts create --database afa_office_test --environment test",
    "setup:mysql-prod": "tsx scripts/setup-mysql-account.ts create --database afa_office_prod --environment production",
    "mysql:diagnose": "node scripts/diagnose-mysql.js",
    "mysql:diagnose-test": "node scripts/diagnose-mysql.js --config=test",
    "mysql:diagnose-app": "node scripts/diagnose-mysql.js --config=app",
    "mysql:cleanup": "node scripts/cleanup-test-databases.js",
    "mysql:cleanup-auto": "node scripts/cleanup-test-databases.js --auto",
    "mysql:cleanup-stats": "node scripts/cleanup-test-databases.js --stats",
    "test:mysql": "vitest --config vitest.mysql-adapter.config.js --run",
    "test:mysql-config": "vitest --config vitest.mysql-config.config.js --run",
    "test:mysql-tools": "vitest --config vitest.mysql-tools.config.js --run",
    "db:integration:init": "node scripts/init-integration-test-db.js init",
    "db:integration:reset": "node scripts/init-integration-test-db.js reset",
    "db:integration:clean": "node scripts/init-integration-test-db.js clean",
    "db:integration:drop": "node scripts/init-integration-test-db.js drop",
    "db:integration:verify": "node scripts/init-integration-test-db.js verify"
  },
  "keywords": [
    "office",
    "access-control",
    "miniprogram",
    "express"
  ],
  "author": "AFA Team",
  "license": "MIT",
  "dependencies": {
    "axios": "^1.6.0",
    "bcryptjs": "^2.4.3",
    "commander": "14.0.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "express": "^4.18.2",
    "helmet": "^7.1.0",
    "joi": "^17.11.0",
    "jsonwebtoken": "^9.0.2",
    "morgan": "^1.10.0",
    "multer": "^1.4.5-lts.1",
    "mysql2": "3.15.2",
    "qrcode": "^1.5.3",
    "xlsx": "^0.18.5"
  },
  "devDependencies": {
    "@playwright/test": "^1.56.0",
    "@types/bcryptjs": "^2.4.6",
    "@types/commander": "2.12.5",
    "@types/cors": "^2.8.17",
    "@types/express": "^4.17.21",
    "@types/joi": "^17.2.3",
    "@types/jsonwebtoken": "^9.0.5",
    "@types/morgan": "^1.9.9",
    "@types/multer": "^1.4.11",
    "@types/node": "^20.10.0",
    "@types/qrcode": "^1.5.5",
    "@types/supertest": "^6.0.2",
    "@typescript-eslint/eslint-plugin": "^6.13.0",
    "@typescript-eslint/parser": "^6.13.0",
    "@vitest/coverage-v8": "^1.0.0",
    "eslint": "^8.54.0",
    "eslint-config-prettier": "^9.0.0",
    "prettier": "^3.1.0",
    "supertest": "^6.3.3",
    "tsx": "^4.6.0",
    "typescript": "^5.3.0",
    "vitest": "^1.0.0"
  },
  "engines": {
    "node": ">=18.0.0"
  }
}